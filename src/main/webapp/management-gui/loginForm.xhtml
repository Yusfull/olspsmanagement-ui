<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
              xmlns:h="http://xmlns.jcp.org/jsf/html"
              xmlns:p="http://primefaces.org/ui"
              xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:form id="form">
        <p:growl id="growl" showDetail="true" life="5000" />
        <p:dialog header="Login" widgetVar="loginWidget">
            <h:panelGrid columns="2" cellpadding="5" border="0">
                <p:outputLabel id="username" for="name" value="Username"/>
                <p:inputText id="name" label="username" value="#{olspsController.userLogin}" required="true"/>
                <p:outputLabel id="password" for="passwords" value="Password"/>
                <p:password id="passwords" value="#{olspsController.password}" feedback="true" required="true"/>
                <f:facet name="footer">
                    <p:commandButton id="btn" actionListener="#{olspsController.logon(event)}" value="Submit"
                                     oncomplete="handleLoginRequest(xhr, status, args)"/>
                </f:facet>
            </h:panelGrid>
        </p:dialog>
    </h:form>
    <script type="text/javascript">
        function handleLoginRequest(xhr, status, args) {
            
            if (args.validationFailed) {
                PF('loginWidget').jq.effect("shake", {times: 5}, 100);
            } else {
                PF('loginWidget').hide();
                $('#loginLink').fadeOut();
            }
        }
    </script>

</ui:component>
